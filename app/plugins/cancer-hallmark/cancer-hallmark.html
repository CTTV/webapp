<p class="ot-section-intro">
    Cancer Hallmarks data is curated from COSMIC (Catalogue Of Somatic Mutations In Cancer), the world's largest and most comprehensive resource for exploring the impact of somatic mutations in human cancer. 
    For more information on the concept of Cancer Hallmarks, refer to the influential 2011 article by D. Hanahan and R. A. Weinberg, Hallmarks of Cancer: The Next Generation.
</p>
<!-- {{target.symbol}} -->

<uib-tabset>
    <uib-tab heading="Visualisation">
        
        <h4>Function Summary</h4>
        <p ng-repeat="function in target.hallmarks.function_summary">
            {{function.description}}
        </p>

        <p>
            <!-- target info on COSMIC -->
            <a ng-href="http://cancer.sanger.ac.uk/cosmic/gene/analysis?ln={{target.approved_symbol}}">COSMIC profile for {{target.approved_symbol}}</a>
        </p>
        
        <div class="">
            <div class="row">
                <div class="col-sm-6">
                    <!-- table -->
                    
                    <table class='table ot-evidence-table'>
                        <thead>
                            <tr>
                                <th>Hallmarks</th>
                                <th>Promotes</th>
                                <th>Suppresses</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="mark in hallmarks" ng-click="(mark.promote || mark.suppress) ? setSelected(mark.label) : setSelected(undefined)">
                                <td><span>{{mark.label}}</span></td>
                                <td><span class="fa fa-arrow-circle-o-up fa-2x" ng-class="mark.promote ? 'text-success' : 'disabled'"></span></td>
                                <td><span class="fa fa-arrow-circle-o-down fa-2x" ng-class="mark.suppress ? 'text-danger' : 'disabled'"></span></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <!-- <p class="small">
                            Note: Icons are based on figure 6 in D. Hanahan and R.A. Weinberg's 2011 article, Hallmarks of Cancer: The Next Generation.
                    </p> -->
                </div>

                <div class="col-sm-6">
                    <!-- side panel -->
                    <div class="panel panel-default" ng-show="selected">
                        <div class="panel-heading">
                            <h3 class="panel-title">{{selected}} <span class="pull-right fa fa-close" ng-click="setSelected(undefined)"></span></h3>
                            <div class="pull-right"></div>
                        </div>
                        <div class="panel-body">
                            <ul>
                                <li ng-repeat="smark in selectedList">
                                    <a ng-href="http://europepmc.org/search?query=EXT_ID:{{smark.pmid}}" target="_blank">{{smark.description}} <span class="fa fa-external-link"></span></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </uib-tab>

    <uib-tab heading="Table">
        <h4>Function Summary</h4>
        <p ng-repeat="function in target.hallmarks.function_summary">
            {{function.description}}
        </p>
        
        <table class='table ot-evidence-table'>
            <thead>
                <tr>
                    <th>Cancer Hallmark</th>
                    <th>Description</th>
                    <th>Promotes or Suppresses</th>
                    <th>Publication</th>
                </tr>
            </thead>

            <tbody>
                <tr ng-repeat="mark in target.hallmarks.cancer_hallmarks">
                    <td>{{mark.label}}</td>
                    <td>{{mark.description}}</td>
                    <td><span ng-show="mark.promote">Promotes</span><br ng-show="mark.promote && mark.suppress"/><span ng-show="mark.suppress">Suppresses</span></td>
                    <td><a ng-href="http://europepmc.org/search?query=EXT_ID:{{mark.pmid}}" target="_blank">{{mark.pmid}}</a></td>
                </tr>
            </tbody>
        </table>

    </uib-tab>

</uib-tabset>

<div ng-show="data.length==0"><p>No data available</p></div>
