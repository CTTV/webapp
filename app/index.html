<!DOCTYPE html>
<html>
<head>
  <title>Search test</title>
  <!-- 
  <link rel="stylesheet" href="bower_components/html5-boilerplate/css/normalize.css">
  <link rel="stylesheet" href="bower_components/html5-boilerplate/css/main.css">
  -->
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/app.css">
</head>

<body ng-app="cttvApp">
    <!-- quick'n'dirty hack here for now -->
    <script type="text/ng-template" id="customTemplate.html">
      <a>
          <span bind-html-unsafe="match.model.title | typeaheadHighlight:query"></span>
          <span>[{{match.model.type | limitTo: ((match.model.type==='genename')?4:3) | uppercase}}]</span>
      </a>
    </script>

    

    <div class="container">


      <!-- Masthead (search) -->
        
        <div style="width:100%; background-color:#DDD; padding:30px 10px; box-shadow: 0px 1px 10px 1px #999">
          <div class="row">

            <div class="col-md-3">
              <!-- CTTV logo -->
              <a href="#"><img src="http://www.targetvalidation.org/sites/targetvalidation.org/files/CTTV_logo_webheader.png" /></a>
            </div>
            
            <div class="col-md-9" ng-controller="SearchBoxCtrl">
              <form novalidate="" name="queryForm" class="global-search ng-animate ng-dirty ng-invalid ng-invalid-required ng-valid-minlength" ng-submit="setSearch()">
                <fieldset>
                  <div class="form-group"> 
                    
                    <div class="input-group">

                      <input type="text" placeholder="gene, disease" class="form-control ng-valid-maxlength ng-animate ng-dirty ng-invalid ng-invalid-required ng-valid-minlength" name="text" tabindex="1" ng-model="query" autocomplete="off" required="" typeahead="item as item.title for item in getSuggestions($viewValue)" typeahead-template-url="customTemplate.html" typeahead-min-length="3">

                      <div class="input-group-btn">
                        <button type="submit" class="btn btn-primary">
                          <span class="fa fa-search fa-lg"></span>
                        </button>
                      </div>

                    </div>
                    
                    <span class="help-block example-searches">
                      <small>
                        <i>
                          Examples: <a href="#/search?q=braf">BRAF</a>, 
                          <a href="#/search?q=carcinoma">Carcinoma</a>, 
                          <a href="#/search?q=pten">PTEN</a>
                        </i>
                      </small>
                    </span>
                    

                    <!-- Error messages -->
                    <!-- again, TODO later
                    <label class="control-label has-error ng-hide" for="query-text" ng-show="query.submitted &amp;&amp; (queryForm.text.$error.required || queryForm.text.$error.minlength)">
                      Your query is too short
                    </label>
                    <label class="control-label ng-hide" for="query-text" ng-show="query.submitted &amp;&amp; (queryForm.text.$error.maxlength)">
                      Your query is too long
                    </label>
                    -->
                  </div>
                </fieldset>
              </form>
            </div>

          </div>

        </div>


      <!-- End Masthead -->

      
      <div ng-view></div>

    </div>


    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="js/ui-bootstrap-tpls-0.12.0.min.js"></script>
    <!-- <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script> -->

    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/controllers.js"></script>
    <script type="text/javascript" src="js/services.js"></script>
    <script type="text/javascript" src="js/d3.js"></script>
    <script type="text/javascript" src="js/d3controllers.js"></script>

    
</body>


